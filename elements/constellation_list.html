<link rel="import" href="constellation_item.html" />

<polymer-element name="constellations-list" attributes="collection">
   <template>
     <ul>
      <template repeat="{{c,index in collection}}">
        <!--<li><a href="#{{c.name}}" on-click="{{onClick}}">{{c.name}}</a></li>-->
        <constellation-item on-select="{{select}}" index="{{index}}" name="{{c.name}}" longname="{{c.longName}}" semitones="{{c.semitones}}" temperament="{{c.temperament}}"></constellation-item>
      </template>
      </ul>
   </template>
  <script>
    Polymer({
      collection: window.chords.constellations,
      ready: function() {
      },
      select: function(ev) {
        console.log('constellation list select');
        console.log('constellation list: ' + ev.target);
        
        var index = ev.detail.index;
        this.currentConstellation = 'A' + this.collection[index].name + " (" + this.collection[index].longName + ")";

        var constellation = this.collection[index];
        
        this.fire('select', {name: constellation.name, semitones: constellation.semitones, temperament: constellation.temperament, longName: constellation.longName});
      }
    });
  </script>
</polymer-element>